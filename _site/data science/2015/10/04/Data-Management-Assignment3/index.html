<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Assignment 3 Data Management and EDA &middot; TmmGeek
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="/public/css/custom.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">


  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  

  <div class="sidebar-item">
    <p>This blog is created for sharing my love and 
      experiences with Bioinformatics, programming and
      statistics, thank you for visiting!</p>
  </div>
   <div class="sidebar-logo" align="center" >
      <img src="http://www.gravatar.com/avatar/0f8154e563aa3319f1ebc77be5fca304?s=140" />
  </div>
  <div id="contact-list" style="text-align:center">
      
        <a href="https://github.com/JizongL">
          <span class="fa-stack fa-lg">
            <i class="fa fa-square-o fa-stack-2x"></i>
            <i class="fa fa-github-alt fa-stack-1x"></i>
          </span>
        </a>
      

      
        <a href="https://www.linkedin.com/in/jizongliang">
          <span class="fa-stack fa-lg">
            <i class="fa fa-square-o fa-stack-2x"></i>
            <i class="fa fa-linkedin fa-stack-1x"></i>
          </span>
        </a>
      

      
        <a href="mailto: davidliangtmm@gmail.com">
          <span class="fa-stack fa-lg">
            <i class="fa fa-square-o fa-stack-2x"></i>
            <i class="fa fa-envelope fa-stack-1x"></i>
          </span>
        </a>
      

      
        <a href="https://twitter.com/JizongLiang">
          <span class="fa-stack fa-lg">
            <i class="fa fa-square-o fa-stack-2x"></i>
            <i class="fa fa-twitter-square fa-stack-1x"></i>
          </span>
        </a>
      

  </div>

   
  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
  
    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/DataManagement/">Data Management and Visualization</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/HTML/">HTML zone</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/ProbabilityAndStastics/">Probability and Statistics</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/TextMining/">Texting Mining Resource</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive/">Archive</a>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
    
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/mycredential/">CV</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/onlineTools/">online tools and resources</a>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/resource/">Pathology subsection</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/tags/">Tags</a>
        
      
    
      
        
      
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">TmmGeek</a>
            <small>A blog for bioinformatics programming and statistics</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Assignment 3 Data Management and EDA</h1>
  <span class="post-date">04 Oct 2015</span>
  <h2 id="instructions">Instructions</h2>

<p>This week, you will be making and implementing decisions about data management for the variables that you have chosen to examine based on the steps reviewed in the videos and supplemental materials. This assignment is important because it offers you the opportunity to practice making sound data management decisions and think about how these decisions will impact your research.</p>

<!--break-->

<p>You can download my python code file <a href="/assets/couseraAssignment/DataManagement/week3/week3assignment.py">here</a></p>

<p>And you can download the gapminder dataset <a href="/assets/couseraAssignment/DataManagement/week3/gapminder.csv">csv file here</a></p>

<p>And you can review my Assignment for the codebook <a href="http://jizongl.github.io/data%20science/2015/09/19/Data-Management-Assignment1/">here</a></p>

<ul id="markdown-toc">
  <li><a href="#instructions" id="markdown-toc-instructions">Instructions</a>    <ul>
      <li><a href="#import-the-entire-dataset-to-memory" id="markdown-toc-import-the-entire-dataset-to-memory">import the entire dataset to memory</a></li>
      <li><a href="#some-house-keeping-to-the-dataset" id="markdown-toc-some-house-keeping-to-the-dataset">some house keeping to the dataset</a></li>
      <li><a href="#i-am-interested-to-divided-urbanrate-into-4-percentiles-so-i-coded-with-both-methods-introduced-from-the-video-as-follow" id="markdown-toc-i-am-interested-to-divided-urbanrate-into-4-percentiles-so-i-coded-with-both-methods-introduced-from-the-video-as-follow">I am interested to divided urbanrate into 4 percentiles, so I coded with both methods introduced from the video as follow</a></li>
      <li><a href="#result" id="markdown-toc-result">result</a></li>
      <li><a href="#use-crosstab-function-to-make-cross-counts-for-both-newly-created-variables-urbanratenew--urbanratenew2-and-the-original-variable-urbanrate" id="markdown-toc-use-crosstab-function-to-make-cross-counts-for-both-newly-created-variables-urbanratenew--urbanratenew2-and-the-original-variable-urbanrate">Use <strong>crosstab()</strong> function to make cross counts for both newly created variables (urbanrateNew &amp; urbanrateNew2) and the original variable urbanrate.</a></li>
      <li><a href="#result-of-crosstable-count-for-both-methods" id="markdown-toc-result-of-crosstable-count-for-both-methods">result of crosstable count for both methods</a></li>
      <li><a href="#review-criteria" id="markdown-toc-review-criteria">Review Criteria</a></li>
    </ul>
  </li>
</ul>

<h3 id="import-the-entire-dataset-to-memory">import the entire dataset to memory</h3>
<pre>
pre<code>
import pandas
import numpy
</code>
</pre>

<h3 id="some-house-keeping-to-the-dataset">some house keeping to the dataset</h3>

<div style="width:700px;height:500px;line-height:3em;overflow:auto;padding:5px;">
<pre>
<code>	
print("Import the entire dataset to memory")
data = pandas.read_csv("gapminder.csv", low_memory = False)

print("upper case all DataFrame column names")
data.columns = map(str.lower, data.columns)

print("avoid run time error message")
pandas.set_option('display.float_format', lambda x:'%f'%x)

print("convert strings to numerics")
data['alcconsumption'] = data['alcconsumption'].convert_objects(convert_numeric=True)
data['alcconsumption'] = data['alcconsumption'].convert_objects(convert_numeric=True)
data['relectricperperson'] = data['relectricperperson'].convert_objects(convert_numeric=True)
data['urbanrate'] = data['urbanrate'].convert_objects(convert_numeric=True)
data['internetuserate'] = data['internetuserate'].convert_objects(convert_numeric=True)
data['hivrate'] = data['hivrate'].convert_objects(convert_numeric=True)

print("Set mission data to NAN")
data['alcconsumption'] = data['alcconsumption'].replace(0, numpy.nan)
data["lifeexpectancy"] = data["lifeexpectancy"].replace(0, numpy.nan)
data["relectricperperson"] = data["relectricperperson"].replace(0, numpy.nan)
data['urbanrate'] = data['urbanrate'].replace(0, numpy.nan)
data["internetuserate"] = data["internetuserate"].replace(0, numpy.nan)
data['hivrate'] = data['hivrate'].replace(0, numpy.nan)
</code>
</pre>
</div>

<div style="width:700px;height:500px;line-height:3em;overflow:auto;padding:5px;">
<pre>
<code>	
print('create sub2 dataset to include only variables of interest.')
sub2 = data[['alcconsumption','lifeexpectancy','relectricperperson','urbanrate', 'internetuserate','hivrate']]

print('preview dataset')
print(sub2.head(n=10))

   alcconsumption lifeexpectancy  relectricperperson  urbanrate  \
0        0.030000         48.673                 nan  24.040000   
1        7.290000         76.918          636.341383  46.720000   
2        0.690000         73.131          590.509814  65.220000   
3       10.170000                                nan  88.920000   
4        5.570000         51.093          172.999227  56.700000   
5        8.170000                                nan  30.460000   
6        9.350000         75.901          768.428300  92.000000   
7       13.660000         74.241          603.763058  63.860000   
8             nan         75.246                 nan  46.780000   
9       10.210000         81.907         2825.391095  88.740000   

   internetuserate  hivrate  
0         3.654122      nan  
1        44.989947      nan  
2        12.500073 0.100000  
3        81.000000      nan  
4         9.999954 2.000000  
5        80.645455      nan  
6        36.000335 0.500000  
7        44.001025 0.100000  
8        41.800889      nan  
9        75.895654 0.100000  
</code>
</pre>
</div>

<h3 id="i-am-interested-to-divided-urbanrate-into-4-percentiles-so-i-coded-with-both-methods-introduced-from-the-video-as-follow">I am interested to divided urbanrate into 4 percentiles, so I coded with both methods introduced from the video as follow</h3>

<div style="width:700px;height:500px;line-height:3em;overflow:auto;padding:5px;">
<pre>
<code>	
print('create new variable urbanrateNew2 to cut urbanrate into 4 percentile')
sub2['urbanrateNew']= pandas.qcut(sub2.urbanrate, 4, labels = ["1=25%tile","2=50%tile", "3=75%tile", "4=100%tile"])
print('create new variable urbanrateNew2 to cut urbanrate into 4 categories')
sub2["urbanrateNew2"] = pandas.cut(sub2.urbanrate,[10,40,70,100])

print('frequency count for method 1')
c1 = sub2["urbanrateNew"].value_counts(sort=False,dropna=True)
print(c1)
print("percentage count for method 1")
p1 = sub2["urbanrateNew"].value_counts(sort=False, normalize=True)
print(p1)

print('frequency count for method 2')
c2 = sub2["urbanrateNew2"].value_counts(sort=False,dropna=True)
print(c2)
print("percentage count for method 2")
p2 = sub2["urbanrateNew2"].value_counts(sort=False, normalize=True)
print(p2)
</code>
</pre>
</div>

<h3 id="result">result</h3>
<div style="width:700px;height:500px;line-height:3em;overflow:auto;padding:5px;">
<pre>
<code>	
frequency count for method 2
1=25%tile     51
2=50%tile     51
3=75%tile     50
4=100%tile    51
dtype: int64
percentage count for method 1
1=25%tile    0.239437
2=50%tile    0.239437
3=75%tile    0.234742
4=100%tile   0.239437
dtype: float64
frequency count for method 2
(10, 40]     59
(40, 70]     80
(70, 100]    64
dtype: int64
percentage count for method 2
(10, 40]    0.276995
(40, 70]    0.375587
(70, 100]   0.300469
dtype: float64
</code>
</pre>
</div>

<h3 id="use-crosstab-function-to-make-cross-counts-for-both-newly-created-variables-urbanratenew--urbanratenew2-and-the-original-variable-urbanrate">Use <strong>crosstab()</strong> function to make cross counts for both newly created variables (urbanrateNew &amp; urbanrateNew2) and the original variable urbanrate.</h3>

<pre>
<code>	
print('crosstable function for count of oberservation within each category')
print(pandas.crosstab(sub2["urbanrateNew"], sub2["urbanrate"]))
print(pandas.crosstab(sub2["urbanrateNew2"], sub2["urbanrate"]))

</code>
</pre>

<h3 id="result-of-crosstable-count-for-both-methods">result of crosstable count for both methods</h3>
<div style="width:700px;height:500px;line-height:3em;overflow:auto;padding:5px;">
<pre>
<code>	
crosstable function for count of oberservation within each category
urbanrate     10.400000   12.540000   12.980000   13.220000   14.320000   \
urbanrateNew                                                               
1=25%tile              1           1           1           1           1   
2=50%tile              0           0           0           0           0   
3=75%tile              0           0           0           0           0   
4=100%tile             0           0           0           0           0   

urbanrate     15.100000   16.540000   17.000000   17.240000   17.960000   \
urbanrateNew                                                               
1=25%tile              1           1           1           1           1   
2=50%tile              0           0           0           0           0   
3=75%tile              0           0           0           0           0   
4=100%tile             0           0           0           0           0   

urbanrate        ...      92.680000   93.160000   93.320000   94.220000   \
urbanrateNew     ...                                                       
1=25%tile        ...               0           0           0           0   
2=50%tile        ...               0           0           0           0   
3=75%tile        ...               0           0           0           0   
4=100%tile       ...               1           1           1           1   

urbanrate     94.260000   95.640000   97.360000   98.320000   98.360000   \
urbanrateNew                                                               
1=25%tile              0           0           0           0           0   
2=50%tile              0           0           0           0           0   
3=75%tile              0           0           0           0           0   
4=100%tile             1           1           1           1           1   

urbanrate     100.000000  
urbanrateNew              
1=25%tile              0  
2=50%tile              0  
3=75%tile              0  
4=100%tile             6  

[4 rows x 194 columns]
urbanrate      10.400000   12.540000   12.980000   13.220000   14.320000   \
urbanrateNew2                                                               
(10, 40]                1           1           1           1           1   
(40, 70]                0           0           0           0           0   
(70, 100]               0           0           0           0           0   

urbanrate      15.100000   16.540000   17.000000   17.240000   17.960000   \
urbanrateNew2                                                               
(10, 40]                1           1           1           1           1   
(40, 70]                0           0           0           0           0   
(70, 100]               0           0           0           0           0   

urbanrate         ...      92.680000   93.160000   93.320000   94.220000   \
urbanrateNew2     ...                                                       
(10, 40]          ...               0           0           0           0   
(40, 70]          ...               0           0           0           0   
(70, 100]         ...               1           1           1           1   

urbanrate      94.260000   95.640000   97.360000   98.320000   98.360000   \
urbanrateNew2                                                               
(10, 40]                0           0           0           0           0   
(40, 70]                0           0           0           0           0   
(70, 100]               1           1           1           1           1   

urbanrate      100.000000  
urbanrateNew2              
(10, 40]                0  
(40, 70]                0  
(70, 100]               6  

[3 rows x 194 columns]

Process finished with exit code 0


</code>
</pre>
</div>

<h3 id="review-criteria">Review Criteria</h3>

<p>Your assessment will be based on the evidence you provide that you have completed all of the steps. When relevant, gradients in the scoring will be available to reward clarity (for example, you will get one point for submitting output that is not understandable, but two points if it is understandable). In all cases, consider that the peer assessing your work is likely not an expert in the field you are analyzing. You will be assessed equally on your description of your frequency distributions.</p>

<p>Specific rubric items, and their point values, are as follows:</p>

<pre><code>Was the program output interpretable (i.e. organized and labeled)? (1 point)
Does the program output display three data managed variables as frequency tables? (1 point)
Did the summary describe the frequency distributions in terms of the values the variables take, how often they take them, the presence of missing data, etc.? (2 points)
</code></pre>

</div>
<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/pathology/2015/10/30/laboratory-medicine-text-chapter11/">
            Bleeding and Thrombotic Disorders
            <small>30 Oct 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/statistics/2015/10/30/correlation-study/">
            correlation study
            <small>30 Oct 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/python/2015/10/30/Ipython-Jupyter-study/">
            Ipython and Jupyter study
            <small>30 Oct 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
        
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'geektmm';
    var disqus_identifier = "/data%20science/2015/10/04/Data-Management-Assignment3/";
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66527403-1', 'auto');
  ga('send', 'pageview');

</script>
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
