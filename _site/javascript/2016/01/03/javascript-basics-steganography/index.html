<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Javascript basics - How to build a steganography &middot; TmmGeek
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="/public/css/custom.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">


  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  

  <div class="sidebar-item">
    <p>This blog is created for sharing my love and 
      experiences with Bioinformatics, programming and
      statistics, thank you for visiting!</p>
  </div>
   <div class="sidebar-logo" align="center" >
      <img src="http://www.gravatar.com/avatar/0f8154e563aa3319f1ebc77be5fca304?s=140" />
  </div>
  <div id="contact-list" style="text-align:center">
      
        <a href="https://github.com/JizongL">
          <span class="fa-stack fa-lg">
            <i class="fa fa-square-o fa-stack-2x"></i>
            <i class="fa fa-github-alt fa-stack-1x"></i>
          </span>
        </a>
      

      
        <a href="https://www.linkedin.com/in/jizongliang">
          <span class="fa-stack fa-lg">
            <i class="fa fa-square-o fa-stack-2x"></i>
            <i class="fa fa-linkedin fa-stack-1x"></i>
          </span>
        </a>
      

      
        <a href="mailto: davidliangtmm@gmail.com">
          <span class="fa-stack fa-lg">
            <i class="fa fa-square-o fa-stack-2x"></i>
            <i class="fa fa-envelope fa-stack-1x"></i>
          </span>
        </a>
      

      
        <a href="https://twitter.com/JizongLiang">
          <span class="fa-stack fa-lg">
            <i class="fa fa-square-o fa-stack-2x"></i>
            <i class="fa fa-twitter-square fa-stack-1x"></i>
          </span>
        </a>
      

  </div>

   
  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
  
    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/Coursera/">Coursera Courses Note</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/DataManagement/">Data Management and Visualization</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/HTML/">HTML zone</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/ProbabilityAndStastics/">Probability and Statistics</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/TextMining/">Texting Mining Resource</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive/">Archive</a>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
    
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/mathematics/">Mathematics</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/mycredential/">CV</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/onlineTools/">online tools and resources</a>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/resource/">Pathology subsection</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/stata/">Stata</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/tags/">Tags</a>
        
      
    
      
        
      
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2016. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">TmmGeek</a>
            <small>A blog for bioinformatics programming and statistics</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Javascript basics - How to build a steganography</h1>
  <span class="post-date">03 Jan 2016</span>
  <p>The following code is for building a steganography. It connects to a project that I built for my E portfolio, which is a final projects of a Coursera course <a href="https://www.coursera.org/learn/duke-programming-web/home/welcome">Programming and the Web for Beginners</a>that I am taking. 
<!--break-->
The logic behinds this program is very simple, simply manipulating the values of pixels of the images of interest.
To see a full introduction of the code please visit my <a href="http://codepen.io/JizongL/pen/mVRXop">CodePen</a>.</p>

<div style="width:700px;height:500px;line-height:3em;overflow:auto;padding:5px;">
<pre>
<code>
// steganography


// function for computing bit
function bitToUse(bit){
    result = Math.pow(2,bit);
    return result;
}


// function for cropping the an image 
function crop(image,width,height)
{ var output= new SimpleImage(width,height);
  for(var outpx of output.values())
  { var x=outpx.getX();
    var y=outpx.getY();
    var px= image.getPixel(x,y);
    outpx.setRed(px.getRed());
    outpx.setGreen(px.getGreen());
    outpx.setBlue(px.getBlue());
  }
  return output;
}


// Helper function for "chop2hide" for to eliminate the last 4 bits of every pixel
function pixchange(pixval,bit){
    var x = Math.floor(pixval/bit) * bit;
    return x;
}
// function to convert an image to be ready for hiding information in it. 
function chop2hide(image,bit){
    bit = bitToUse(bit);
    for(var px of image.values()){
        px.setRed(pixchange(px.getRed(),bit));
        px.setGreen(pixchange(px.getGreen(),bit));
        px.setBlue(pixchange(px.getBlue(),bit));
    }
    return image;
}

// function for shifting the pixel of the hide image to have only 4 bits.
function shift(im,bit){
    bit=bitToUse(bit);
  var nim = new SimpleImage(im.getWidth(), 
                            im.getHeight());
  for(var px of im.values()){
    var x = px.getX();
    var y = px.getY();
    var npx = nim.getPixel(x,y);
    npx.setRed(Math.floor(px.getRed()/bit));
    npx.setGreen(Math.floor(px.getGreen()/bit));
    npx.setBlue(Math.floor(px.getBlue()/bit));
  }
  return nim;
}

// combine function for adding the start and hide images together. 
function combine(start,hide){
var combinedImage = new SimpleImage(start.getWidth(),start.getHeight());
for(var cPixel of combinedImage.values()){
    x =cPixel.getX();
    y = cPixel.getY();
    sPixel = start.getPixel(x,y); // pixel on start corresponding to pp
    hPixel = hide.getPixel(x,y); // pixel on hide corresponding to pp
    cPixel.setRed(sPixel.getRed()+hPixel.getRed())
    cPixel.setBlue(sPixel.getBlue()+hPixel.getBlue())
    cPixel.setGreen(sPixel.getGreen()+hPixel.getGreen())
    }
return combinedImage
}

// function for decoding the combined image
function decode(im,bit){
    bit = bitToUse(bit);
    var nim = new SimpleImage(im.getWidth(),
                              im.getHeight());
        for(var px of im.values()){
            var x = px.getX();
            var y = px.getY();
            var npx = nim.getPixel(x,y);
            npx.setRed(bit*(px.getRed()-(bit*Math.floor(px.getRed()/bit)))); // follow the math;
            // original pixel from combined say 133, let 133/16 and round the result to no deximal
            npx.setGreen(bit*(px.getGreen()-(bit*Math.floor(px.getGreen()/bit))));
            npx.setBlue(bit*(px.getBlue()-(bit*Math.floor(px.getBlue()/bit))));
            
        }
return nim;
}


var ShowImage= new SimpleImage("vanGohCrop.png");
var HideImage= new SimpleImage("qrCode.jpg");

var crw=Math.min(ShowImage.getWidth(),HideImage.getWidth());
var crh=Math.min(ShowImage.getHeight(),HideImage.getHeight());

var crSImg= crop(ShowImage,crw,crh);
var crHImg= crop(HideImage,crw,crh);

var bit = 6

start = chop2hide(crSImg,bit);
hide = shift(crHImg,bit);

combined = combine(start,hide);
decoded = decode(combined,bit)

//print(start)
//print(hide)
print('ShowImage before processing')
print(ShowImage)
print('HideImage before processing')
print(HideImage)
print('the Show and Hide images are combined, the Hide image is hidden')
print(combined)
print('decode the Steganography')
print(decoded)


</code>

</pre>
</div>

</div>
<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/regular%20expression/2016/01/18/regular-expression-video-project/">
            Introducing Regular expression
            <small>18 Jan 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/01/18/regular-expression-Java/">
            Regular Expression Java
            <small>18 Jan 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/01/03/javascript-basics=steganography/">
            Javascript Basics=steganography
            <small>03 Jan 2016</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
        
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'geektmm';
    var disqus_identifier = "/javascript/2016/01/03/javascript-basics-steganography/";
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66527403-1', 'auto');
  ga('send', 'pageview');

</script>
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
